var __reflect=this&&this.__reflect||function(t,e,i){t.__class__=e,i?i.push(e):i=[e],t.__types__=t.__types__?i.concat(t.__types__):i},__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},Dashboard=function(t){function e(){return t.call(this)||this}return __extends(e,t),e}(egret.DisplayObjectContainer);__reflect(Dashboard.prototype,"Dashboard");var LoadingUI=function(t){function e(){var e=t.call(this)||this;return e.createView(),e}return __extends(e,t),e.prototype.createView=function(){this.textField=new egret.TextField,this.addChild(this.textField),this.textField.y=300,this.textField.width=480,this.textField.height=100,this.textField.textAlign="center"},e.prototype.setProgress=function(t,e){this.textField.text="Loading..."+t+"/"+e},e}(egret.Sprite);__reflect(LoadingUI.prototype,"LoadingUI");var Main=function(t){function e(){var e=t.call(this)||this;return e.GAME_BG_COLOR=9301203,e.addEventListener(egret.Event.ADDED_TO_STAGE,e.onAddToStage,e),e}return __extends(e,t),e.prototype.onAddToStage=function(t){this.loadingView=new LoadingUI,this.stage.addChild(this.loadingView),RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.loadConfig("resource/default.res.json","resource/")},e.prototype.onConfigComplete=function(t){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),RES.loadGroup("preload")},e.prototype.onResourceLoadComplete=function(t){var e=this;if("preload"==t.groupName){var i=0;setTimeout(function(){e.stage.removeChild(e.loadingView),RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,e.onResourceLoadComplete,e),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,e.onResourceLoadError,e),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,e.onResourceProgress,e),RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,e.onItemLoadError,e),e.createGameScene()},i)}},e.prototype.onItemLoadError=function(t){console.warn("Url:"+t.resItem.url+" has failed to load")},e.prototype.onResourceLoadError=function(t){console.warn("Group:"+t.groupName+" has failed to load"),this.onResourceLoadComplete(t)},e.prototype.onResourceProgress=function(t){"preload"==t.groupName&&this.loadingView.setProgress(t.itemsLoaded,t.itemsTotal)},e.prototype.createGameScene=function(){this.init()},e.prototype.init=function(){e.stageW=this.stage.stageWidth,e.stageH=this.stage.stageHeight,this.setGameBg(),this.addGameName(),this.addGameSlogan(),this.scorePanel=new RoundRect(398,e.paddingTop,"SCORE",0),this.stage.addChild(this.scorePanel),this.scorePanel=new RoundRect(538,e.paddingTop,"BEST",0),this.stage.addChild(this.scorePanel),this.restartBtn=new RestartBtn(420,170),this.stage.addChild(this.restartBtn)},e.prototype.setGameBg=function(){var t=new egret.Shape;t.graphics.beginFill(this.GAME_BG_COLOR),t.graphics.drawRect(0,0,e.stageW,e.stageH),t.graphics.endFill(),this.addChild(t)},e.prototype.addGameName=function(){var t=new egret.TextField;t.text="2048",t.size=56,t.textColor=e.FONT_COLOR,t.fontFamily=e.FONT_FAMILY,t.bold=!0,t.height=80,t.verticalAlign=egret.VerticalAlign.BOTTOM,t.x=e.paddingLeft,t.y=e.paddingTop,this.addChild(t)},e.prototype.addGameSlogan=function(){var t=new egret.TextField;t.text="叠加数字，以最快速度达到2048吧！",t.size=24,t.width=264,t.textColor=e.FONT_COLOR,t.fontFamily=e.FONT_FAMILY,t.x=e.paddingLeft,t.y=176,this.addChild(t)},e}(egret.DisplayObjectContainer);Main.FONT_COLOR=6272174,Main.FONT_FAMILY="PingFang SC",Main.stageW=0,Main.stageH=0,Main.paddingTop=40,Main.paddingLeft=94,Main.score=0,Main.best=0,__reflect(Main.prototype,"Main");var RestartBtn=function(t){function e(e,i){var n=t.call(this)||this;return n._x=e,n._y=i,n.BG_COLOR=10736860,n.FONT_COLOR=16777215,n._width=238,n._height=80,n._radius=6,n.x=n._x,n.y=n._y,n.addBg(),n.addText(),n.touchEnabled=!0,n.addEventListener(egret.TouchEvent.TOUCH_TAP,n.onTouchTap,n,!1),n}return __extends(e,t),e.prototype.addBg=function(){var t=new egret.Shape;t.graphics.beginFill(this.BG_COLOR),t.graphics.drawRoundRect(0,0,this._width,this._height,this._radius),t.graphics.endFill(),this.addChild(t)},e.prototype.addText=function(){var t=new egret.TextField;t.text="New Game",t.size=30,t.textColor=this.FONT_COLOR,t.width=this._width,t.height=this._height,t.textAlign=egret.HorizontalAlign.CENTER,t.verticalAlign=egret.VerticalAlign.MIDDLE,this.addChild(t)},e.prototype.onTouchTap=function(){alert("地啊你")},e}(egret.DisplayObjectContainer);__reflect(RestartBtn.prototype,"RestartBtn");var RoundRect=function(t){function e(e,i,n,o){void 0===e&&(e=0),void 0===i&&(i=0);var r=t.call(this)||this;return r._x=e,r._y=i,r._title=n,r._content=o,r._bg_color=10736860,r._min_Width=120,r._height=110,r._radius=6,r.init(),r}return __extends(e,t),e.prototype.init=function(){this.x=this._x,this.y=this._y,this.addBg(),this.addTitle(),this.addContent()},e.prototype.addBg=function(){var t=new egret.Shape;t.graphics.beginFill(this._bg_color),t.graphics.drawRoundRect(0,0,this._min_Width,this._height,this._radius),t.graphics.endFill(),this.addChild(t)},e.prototype.addTitle=function(){var t=new egret.TextField;t.text=this._title,t.size=24,t.textColor=Main.FONT_COLOR,t.width=this._min_Width,t.height=34,t.y=8,t.textAlign=egret.HorizontalAlign.CENTER,this.addChild(t)},e.prototype.addContent=function(){var t=new egret.TextField;t.text=this._content.toString(),t.size=50,t.textColor=16777215,t.width=Math.max(t.measuredWidth,this._min_Width),t.height=72,t.y=36,t.textAlign=egret.HorizontalAlign.CENTER,t.verticalAlign=egret.VerticalAlign.MIDDLE,this.addChild(t)},e}(egret.DisplayObjectContainer);__reflect(RoundRect.prototype,"RoundRect");